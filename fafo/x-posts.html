

<div class="container-fluid">
  <div class="row   justify-content-md-center">
  
  <div class="col-8">
    <div id="x-posts-content">
    <p>
    </p>
    </div>
  </div>
  
  <div class="col-4">
       <div id="x-posts-list-tab" class="list-group list-group-light">
    <p>
    X Post List
    </p>
    </div>
  </div>

 
  </div>
</div>
<script>

  $(function() {
   
      var lastIndex = 0;
   
      function loadImages(data, startIndex, size){
       
       console.log("----")
    
       console.log(startIndex);
       console.log(size);
      
       
               
        for (let i = startIndex; i < (startIndex+size); i++) {
          let xpost = data[i];
          let src = xpost['src'];
          let tagshtml = "";
          console.log(src);
          $( "#x-posts-content" ).append(
            '<img src="'+src+'" class="img-fluid mt-2 rounded"/>'
          );
          if (xpost.hasOwnProperty("tags")) {
             let tags = xpost["tags"];
             for (let i = 0, len = tags.length ; i < len; i++) {
                  tagshtml = tagshtml + '<span class="badge rounded-pill text-bg-primary">'+tags[i]+'</span>'
                  $("#x-posts-content").append(tagshtml);
             }
          }
        }

      }
      
      $.getJSON('./conf/x-posts.json', function(data) {


        
        var xpostList = data["x-posts"];
        
        let sizeToLoad = xpostList.length;
        sizeToLoad = 5;
        
                      for (var i = 0, len = xpostList.length ; i < len; i++) {
          let xpost = xpostList[i];
          let src = xpost['src'];

          $( "#x-posts-list-tab" ).append(
            '<button type="button" class="list-group-item list-group-item-action px-3" aria-current="true" track-index="'+i+'" >'+(i+1)+'</button>'
          );
      }
      
      loadImages(xpostList, 0, 5);
      
      

      $("#x-posts-list-tab button").on("click", function() {

       $('#x-posts-content').empty();
       
             let trackIndex = $(this).attr("track-index");

             
  
             
              loadImages(xpostList, trackIndex, 5);
       
       })
       
      

        
      })
  });
</script>
